---
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';

const posts = (await getCollection('blog')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);

---
<div class="pt-10 max-w-screen-xl mx-auto">
    <h2 class="text-4xl text-main mb-3">Our Last blogs</h2>

    <div class="flex flex-wrap">
        {
            posts.map((post) => (
                <article class="sm:w-1/2 lg:w-1/3 sm:pr-4">
                    <a href={`/blog/${post.slug}/`}>
                        <img width={720} height={360} src={post.data.heroImage} alt="" />
                        <h4 class="title text-xl">{post.data.title}</h4>
                        <p class="date">
                            <FormattedDate date={post.data.pubDate} />
                            </p>
                            </a>
                            </article>
                            ))
                        }
</div>
</div>